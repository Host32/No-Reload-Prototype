!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(1);window.NR=window.NoReload=new r(jQuery)},function(t,e,n){var r=n(2),i=n(3),o=n(4),a=n(5),u=n(6);t.exports=function(t){"use strict";function e(t,e){return t.definition.ajax&&(c===f.NEW_REQUEST||"undefined"==typeof e)}var n="",s=null,f={USE_RESPONSE:0,NEW_REQUEST:1},c=0,l={},h={},d={objectMerge:function(t,e){for(var n in e)t[n]=e[n];return t},convertResponse:function(t){return"string"==typeof t&&(t=JSON.parse(t)),t}},p=function(){for(var t in l)l[t]()},v=function(){for(var t in h)h[t]()},g=new r(t),m=new o,x=new i,w=new a(t,Ractive),E=new u,y={reloadPolicy:f,beforeLoad:p,afterLoad:v,utils:d,ajax:g,modules:m,routes:x,template:w,ws:E,startAnchorNavigation:function(){var e=this;t(window).on("hashchange",function(){var t=location.hash.replace(/^#/,"");e.load(t)})},registerBeforeLoadEvent:function(t,e){l[t]=e},unregisterBeforeLoadEvent:function(t){delete l[t]},registerAfterLoadEvent:function(t,e){h[t]=e},unregisterAfterLoadEvent:function(t){delete h[t]},load:function(t,n){var r=x.find(t),i=this;if(!r)throw"the route '"+t+"' has not yet been registered";e(r,n)?g.run({url:r.definition.route,type:"get",success:function(t){t.route=r,i.call(r.definition.controller,t)}}):(void 0!==n&&(n.route=r),i.call(r.definition.controller,n)),s=t},call:function(t,e){this.beforeLoad(),m.safeCall(t,e),this.afterLoad()},getCurrentRoute:function(){return s},getServerAddress:function(){return n},setServerAddress:function(t){n=t},setReloadPolicy:function(t){c=t}};return y}},function(t){t.exports=function(t){this.getDefaultParams=function(){var t=this;return{dataType:"json",beforeSend:t.beforeSend,complete:t.complete,error:t.error,cache:!1}},this.prepareUrl=function(t){return window.NoReload.getServerAddress()+t},this.error=function(){throw"Ajax Error"},this.beforeSend=function(){},this.complete=function(){},this.run=function(e){var n=e.url||"";e.url=this.prepareUrl(n),e=t.extend({},this.getDefaultParams(n),e),t.ajax(e)}}},function(t){t.exports=function(){var t=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");this.registredRoutes={},this.register=function(t){if(void 0===t.route)throw"invalid route name";if(void 0===t.controller)throw"invalid route controller";void 0===t.ajax&&(t.ajax=!0);var e=t.alias||t.route,n=this.pathtoRegexp(e);this.registredRoutes[e]={route:t.route,regExp:n.regExp,params:n.keys,controller:t.controller,ajax:t.ajax}},this.isRegistred=function(t){return this.find(t)!==!1},this.find=function(t){for(var e in this.registredRoutes){var n=this.registredRoutes[e];if(n.regExp.test(t)){var r=t.match(n.regExp);for(var i in n.keys)r[n.keys[i]]=r[i];return{definition:n,matches:r}}}return!1},this.escapeGroup=function(t){return t.replace(/([=!:$\/()])/g,"\\$1")},this.pathtoRegexp=function(e){var n=[],r=0,i=this;return e=e.replace(t,function(t,e,o,a,u,s,f,c){if(e)return e;if(c)return"\\"+c;var l="+"===f||"*"===f,h="?"===f||"*"===f;return n.push({name:a||r++,delimiter:o||"/",optional:h,repeat:l}),o=o?"\\"+o:"",u=i.escapeGroup(u||s||"[^"+(o||"\\/")+"]+?"),l&&(u=u+"(?:"+o+u+")*"),h?"(?:"+o+"("+u+"))?":o+"("+u+")"}),{regExp:new RegExp("^"+e+"$"),keys:n}}}},function(t){t.exports=function(){this.registred={},this.register=function(t,e){this.registred[t]=new e},this.validator=function(){return!0},this.call=function(t,e){"string"==typeof t&&(t=this.getFunc(t)),t(e)},this.safeCall=function(t,e){this.validator(e)&&this.call(t,e)},this.getFunc=function(t){var e=this;return function(n){var r=t.split(";");for(var i in r){for(var o=e.registred,a=r[i].split("."),u=0;u<a.length-1&&(o=o[a[u]],void 0!==o);u++);void 0!==o&&void 0!==o[a[a.length-1]]&&o[a[a.length-1]](n)}}},this.get=function(t){var e=this.registred,n=t.split(".");for(var r in n)if(e=e[n[r]],void 0==e)return null;return e},this.set=function(t,e){for(var n=this.registred,r=t.split("."),i=0;i<r.length-1;i++)if(n=n[r[i]],void 0==n)throw"Scope "+t+" has not found in registred controllers";n[r[r.length-1]]=e}}},function(t){t.exports=function(t,e){var n="",r=".html",i="",o=".html",a="body",u={},s={},f=function(t){return n+t+r},c=function(t){return i+t+o},l=function(){for(var t in s)s[t]()},h={},d=function(n,r){return"undefined"==typeof h[n]&&(h[n]=t.ajax({url:f(n),contentType:"text/html",dataType:"html",cache:!0,success:function(t){u[n]=e.extend({el:a,template:t,oncomplete:function(){l()}})},error:function(){u[n]=e.extend({el:a,template:"Template nÃ£o encontrado",oncomplete:function(){l()}})}})),h[n]},p=function(t){return new e.Promise(function(e){d(t).done(function(){e(u[t])})})},v=function(t){return new e.Promise(function(e){var n=0,r={},i=function(i){d(t[i],i).done(function(){r[i]=u[t[i]],--n||e(r)})};for(var o in t)t.hasOwnProperty(o)&&(n+=1,i(o))})};this.callCompileEvents=l,this.registerCompileEvent=function(t,e){s[t]=e},this.unregisterCompileEvent=function(t){delete s[t]},this.load=function(t,e){var n;return n="string"==typeof t?p(t):v(t),"undefined"==typeof e?n:void n.then(e)},this.compile=function(t){this.load(t.template).then(function(e){delete t.template,new e(t)})},this.registerPartial=function(n){t.get(c(n),function(t){e.partials[n]=t})},this.registerHelper=function(t,n){e.defaults.data[t]=n},this.getTemplatePath=function(){return n},this.setTemplatePath=function(t){n=t},this.getTemplateFormat=function(){return r},this.setTemplateFormat=function(t){r=t},this.getPartialsPath=function(){return i},this.setPartialsPath=function(t){i=t},this.getPartialsFormat=function(){return o},this.setPartialsFormat=function(t){o=t},this.getMainElement=function(){return a},this.setMainElement=function(t){a=t}}},function(t){t.exports=function(){}}]);
//# sourceMappingURL=no-reload.min.js.map