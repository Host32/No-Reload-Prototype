!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){var NoReload=__webpack_require__(1);window.NR=window.NoReload=new NoReload(jQuery)},function(module,exports,__webpack_require__){var Ajax=__webpack_require__(2),Routes=__webpack_require__(3),Modules=__webpack_require__(4),Templates=__webpack_require__(5),WebSocket=__webpack_require__(6);module.exports=function($){"use strict";function isAjax(routeDef,params){return routeDef.definition.ajax&&(selectedReloadPolicy===reloadPolicy.NEW_REQUEST||"undefined"==typeof params)}var serverAddress="",lastRoute=null,reloadPolicy={USE_RESPONSE:0,NEW_REQUEST:1},selectedReloadPolicy=0,beforeLoadEvents={},afterLoadEvents={},utils={objectMerge:function(ob1,ob2){for(var key in ob2)ob1[key]=ob2[key];return ob1},convertResponse:function(response){return"string"==typeof response&&(response=JSON.parse(response)),response}},beforeLoad=function(){for(var key in beforeLoadEvents)beforeLoadEvents[key]()},afterLoad=function(){for(var key in afterLoadEvents)afterLoadEvents[key]()},ajax=new Ajax(this,$),modules=new Modules,routes=new Routes,template=new Templates($,Ractive),ws=new WebSocket,__export__={reloadPolicy:reloadPolicy,beforeLoad:beforeLoad,afterLoad:afterLoad,utils:utils,ajax:ajax,modules:modules,routes:routes,template:template,ws:ws,startAnchorNavigation:function(){var NR=this;$(window).on("hashchange",function(){var name=location.hash.replace(/^#/,"");NR.load(name)})},registerBeforeLoadEvent:function(name,event){beforeLoadEvents[name]=event},unregisterBeforeLoadEvent:function(name){delete beforeLoadEvents[name]},registerAfterLoadEvent:function(name,event){afterLoadEvents[name]=event},unregisterAfterLoadEvent:function(name){delete afterLoadEvents[name]},load:function(route,params){var routeDef=routes.find(route),NR=this;if(!routeDef)throw"the route '"+route+"' has not yet been registered";isAjax(routeDef,params)?ajax.run({url:routeDef.definition.route,type:"get",success:function(response){response.route=routeDef,NR.call(routeDef.definition.controller,response)}}):(void 0!==params&&(params.route=routeDef),NR.call(routeDef.definition.controller,params)),lastRoute=route},call:function(controller,params){this.beforeLoad(),modules.safeCall(controller,params),this.afterLoad()},getCurrentRoute:function(){return lastRoute},getServerAddress:function(){return serverAddress},setServerAddress:function(address){serverAddress=address},setReloadPolicy:function(policy){selectedReloadPolicy=policy}};return __export__}},function(module){module.exports=function(NR,$){this.getDefaultParams=function(){var ajax=this;return{contentType:"application/json",dataType:"json",beforeSend:ajax.beforeSend,complete:ajax.complete,error:ajax.error,cache:!1}},this.prepareUrl=function(location){return NR.getServerAddress()+location},this.error=function(){throw"Ajax Error"},this.beforeSend=function(){},this.complete=function(){},this.run=function(params){var url=params.url||"";params.url=this.prepareUrl(url),params=$.extend({},this.getDefaultParams(url),params),$.ajax(params)}}},function(module){module.exports=function(){var PATH_REGEXP=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");this.registredRoutes={},this.register=function(params){if(void 0===params.route)throw"invalid route name";if(void 0===params.controller)throw"invalid route controller";void 0===params.ajax&&(params.ajax=!0);var alias=params.alias||params.route,routeReg=this.pathtoRegexp(alias);this.registredRoutes[alias]={route:params.route,regExp:routeReg.regExp,params:routeReg.keys,controller:params.controller,ajax:params.ajax}},this.isRegistred=function(name){return this.find(name)!==!1},this.find=function(name){for(var key in this.registredRoutes){var route=this.registredRoutes[key];if(route.regExp.test(name)){var matches=name.match(route.regExp);for(var key2 in route.keys)matches[route.keys[key2]]=matches[key2];return{definition:route,matches:matches}}}return!1},this.escapeGroup=function(group){return group.replace(/([=!:$\/()])/g,"\\$1")},this.pathtoRegexp=function(path){var keys=[],index=0,r=this;return path=path.replace(PATH_REGEXP,function(match,escaped,prefix,key,capture,group,suffix,escape){if(escaped)return escaped;if(escape)return"\\"+escape;var repeat="+"===suffix||"*"===suffix,optional="?"===suffix||"*"===suffix;return keys.push({name:key||index++,delimiter:prefix||"/",optional:optional,repeat:repeat}),prefix=prefix?"\\"+prefix:"",capture=r.escapeGroup(capture||group||"[^"+(prefix||"\\/")+"]+?"),repeat&&(capture=capture+"(?:"+prefix+capture+")*"),optional?"(?:"+prefix+"("+capture+"))?":prefix+"("+capture+")"}),{regExp:new RegExp("^"+path+"$"),keys:keys}}}},function(module){module.exports=function(){this.registred={},this.register=function(name,module){this.registred[name]=new module},this.validator=function(){return!0},this.call=function(moduleFunc,params){"string"==typeof moduleFunc&&(moduleFunc=this.getFunc(moduleFunc)),moduleFunc(params)},this.safeCall=function(module,params){this.validator(params)&&this.call(module,params)},this.getFunc=function(name){var c=this;return function(params){var names=name.split(";");for(var key in names){for(var scope=c.registred,scopeSplit=name.split("."),i=0;i<scopeSplit.length-1&&(scope=scope[scopeSplit[i]],void 0!==scope);i++);void 0!==scope&&void 0!==scope[scopeSplit[scopeSplit.length-1]]&&scope[scopeSplit[scopeSplit.length-1]](params)}}},this.get=function(name){var scope=this.registred,scopeSplit=name.split(".");for(var i in scopeSplit)if(scope=scope[scopeSplit[i]],void 0==scope)return null;return scope},this.set=function(name,value){for(var scope=this.registred,scopeSplit=name.split("."),i=0;i<scopeSplit.length-1;i++)if(scope=scope[scopeSplit[i]],void 0==scope)throw"Scope "+name+" has not found in registred controllers";scope[scopeSplit[scopeSplit.length-1]]=value}}},function(module){module.exports=function($,Ractive){var pendentCallback,templatePath="",templateFormat=".html",partialsPath="",partialsFormat=".html",mainElement="body",templates={},compileEvents={},formatTemplateUrl=function(name){return templatePath+name+templateFormat},formatPartialUrl=function(name){return partialsPath+name+partialsFormat},callCompileEvents=function(){for(var key in compileEvents)compileEvents[key]()},pendents=0,pendentsRequest={},resolvePendents=function(){if(!--pendents){var lastRequestKey,requestLength=0;for(lastRequestKey in pendentsRequest)requestLength++;if(1==requestLength)pendentCallback(templates[pendentsRequest[lastRequestKey]]);else{var temps={};for(var key in pendentsRequest)temps[key]=templates[pendentsRequest[key]];pendentCallback(temps)}pendentsRequest={}}};return{registerCompileEvent:function(name,callback){compileEvents[name]=callback},unregisterCompileEvent:function(name){delete compileEvents[name]},callCompileEvents:callCompileEvents,loadSingle:function(name,optionalName){var alias=optionalName||name;pendentsRequest[alias]=name,"undefined"==typeof templates[name]?$.ajax({url:formatTemplateUrl(name),contentType:"text/html",dataType:"html",cache:!0,success:function(template){templates[name]=Ractive.extend({el:mainElement,template:template,oncomplete:function(){callCompileEvents()}})},error:function(){templates[name]=Ractive.extend({el:mainElement,template:"Template nÃ£o encontrado"})},complete:function(){resolvePendents()}}):resolvePendents()},loadMultiple:function(map){for(var name in map)this.loadSingle(map[name],name)},load:function(map,callback){if("undefined"==typeof callback&&(callback=function(){}),pendentCallback=callback,"string"==typeof map)pendents++,this.loadSingle(map);else{for(var name in map)pendents++;this.loadMultiple(map)}return this},compile:function(options){this.load(options.template,function(Component){delete options.template,new Component(options)})},registerPartial:function(name){$.get(formatPartialUrl(name),function(response){Ractive.partials[name]=response})},registerHelper:function(name,func){Ractive.defaults.data[name]=func},getTemplatePath:function(){return templatePath},setTemplatePath:function(path){templatePath=path},getTemplateFormat:function(){return templateFormat},setTemplateFormat:function(path){templateFormat=path},getPartialsPath:function(){return partialsPath},setPartialsPath:function(path){partialsPath=path},getPartialsFormat:function(){return partialsFormat},setPartialsFormat:function(path){partialsFormat=path},getMainElement:function(){return mainElement},setMainElement:function(path){mainElement=path}}}},function(module){module.exports=function(){}}]);