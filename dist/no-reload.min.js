!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(1);window.NR=window.NoReload=new r(jQuery)},function(t,e,n){var r=n(2),i=n(3),o=n(4),s=n(5),a=n(6);t.exports=function(t){"use strict";function e(t,e){return t.definition.ajax&&(l===f.NEW_REQUEST||"undefined"==typeof e)}var n="",u=null,c="",f={USE_RESPONSE:0,NEW_REQUEST:1},l=0,h={},d={},p={objectMerge:function(t,e){for(var n in e)t[n]=e[n];return t},convertResponse:function(t){return"string"==typeof t&&(t=JSON.parse(t)),t}},v=function(){for(var t in h)h[t]()},g=function(){for(var t in d)d[t]()},m=new r(t),x=new o,w=new s(t,Ractive),E=new i(w),R=new a;this.reloadPolicy=f,this.beforeLoad=v,this.afterLoad=g,this.utils=p,this.ajax=m,this.modules=x,this.routes=E,this.template=w,this.ws=R,this.startAnchorNavigation=function(){var e=this;t(window).on("hashchange",function(){var t=location.hash.replace(/^#/,"");e.load(t)})},this.registerBeforeLoadEvent=function(t,e){h[t]=e},this.unregisterBeforeLoadEvent=function(t){delete h[t]},this.registerAfterLoadEvent=function(t,e){d[t]=e},this.unregisterAfterLoadEvent=function(t){delete d[t]},this.start=function(e){var n=t.extend({},{url:e.url,success:function(t){NR.call(e.controller,t)}},e);m.run(n)},this.reload=function(){this.load(u)},this.load=function(t,n){t=t||c;var r=E.find(t),i=this;if(!r)throw"the route '"+t+"' has not yet been registered";e(r,n)?m.run({url:r.serverRoute,type:"get",success:function(t){t.route=r,i.call(r.definition.controller,t)}}):(n=n||{},n.route=r,i.call(r.definition.controller,n)),u=t},this.call=function(t,e){this.beforeLoad(),x.safeCall(t,e),this.afterLoad()},this.getCurrentRoute=function(){return u},this.getDefaultRoute=function(){return c},this.setDefaultRoute=function(t){c=t},this.getServerAddress=function(){return n},this.setServerAddress=function(t){n=t},this.setReloadPolicy=function(t){l=t}}},function(t){t.exports=function(t){this.getDefaultParams=function(){var t=this;return{dataType:"json",beforeSend:t.beforeSend,complete:t.complete,error:t.error,cache:!1}},this.prepareUrl=function(t){return window.NoReload.getServerAddress()+t},this.error=function(){throw"Ajax Error"},this.beforeSend=function(){},this.complete=function(){},this.run=function(e){var n=e.url||"";e.url=this.prepareUrl(n),e=t.extend({},this.getDefaultParams(n),e),t.ajax(e)}}},function(t){t.exports=function(){"use strict";var t=new RegExp(["(\\\\.)","([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?","([.+*?=^!:${}()[\\]|\\/])"].join("|"),"g");this.registredRoutes={},this.register=function(t){if(void 0===t.route)throw"invalid route name";void 0!==t.template?t.controller=function(e){if("string"==typeof t.template)NR.template.compile({template:t.template,data:e});else{t.template.data=e;var n=t.template.template;NR.template.compile(t.template,function(){t.template.template=n})}}:void 0===t.controller&&(t.controller=function(){}),void 0===t.ajax&&(t.ajax=!0);var e=t.alias||t.route,n=this.pathtoRegexp(e);this.registredRoutes[e]={route:t.route,regExp:n.regExp,keys:n.keys,controller:t.controller,ajax:t.ajax}},this.isRegistred=function(t){return this.find(t)!==!1},this.find=function(t){for(var e in this.registredRoutes){var n=this.registredRoutes[e];if(n.regExp.test(t)){var r=t.match(n.regExp),i=n.route;for(var o in n.keys){var s=parseInt(o,10)+1;r[n.keys[o].name]=r[s];var a=r[s]||"";i=i.replace(":"+n.keys[o].name,a)}return{definition:n,matches:r,serverRoute:i}}}return!1},this.escapeGroup=function(t){return t.replace(/([=!:$\/()])/g,"\\$1")},this.pathtoRegexp=function(e){var n=[],r=0,i=this;return e=e.replace(t,function(t,e,o,s,a,u,c,f){if(e)return e;if(f)return"\\"+f;var l="+"===c||"*"===c,h="?"===c||"*"===c;return n.push({name:s||r++,delimiter:o||"/",optional:h,repeat:l}),o=o?"\\"+o:"",a=i.escapeGroup(a||u||"[^"+(o||"\\/")+"]+?"),l&&(a=a+"(?:"+o+a+")*"),h?"(?:"+o+"("+a+"))?":o+"("+a+")"}),{regExp:new RegExp("^"+e+"$"),keys:n}}}},function(t){t.exports=function(){this.registred={},this.register=function(t,e){this.registred[t]=new e},this.validator=function(){return!0},this.call=function(t,e){"string"==typeof t&&(t=this.getFunc(t)),t(e)},this.safeCall=function(t,e){this.validator(e)&&this.call(t,e)},this.getFunc=function(t){var e=this;return function(n){var r=t.split(";");for(var i in r){for(var o=e.registred,s=r[i].split("."),a=0;a<s.length-1&&(o=o[s[a]],void 0!==o);a++);void 0!==o&&void 0!==o[s[s.length-1]]&&o[s[s.length-1]](n)}}},this.get=function(t){var e=this.registred,n=t.split(".");for(var r in n)if(e=e[n[r]],void 0==e)return null;return e},this.set=function(t,e){for(var n=this.registred,r=t.split("."),i=0;i<r.length-1;i++)if(n=n[r[i]],void 0==n)throw"Scope "+t+" has not found in registred controllers";n[r[r.length-1]]=e}}},function(t){t.exports=function(t,e){var n="",r=".html",i="",o=".html",s="body",a={},u={},c={},f={},l=function(t){return n+t+r},h=function(t){return i+t+o},d=function(){for(var t in u)u[t]()},p={},v=function(n,r){return"undefined"==typeof p[n]&&(p[n]=t.ajax({url:l(n),contentType:"text/html",dataType:"html",cache:!0,success:function(t){a[n]=e.extend({el:s,template:t,oncomplete:function(){d()}})},error:function(){a[n]=e.extend({el:s,template:"Template nÃ£o encontrado",oncomplete:function(){d()}})}})),p[n]},g=function(t){return new e.Promise(function(e){v(t).done(function(){e(a[t])})})},m=function(t){return new e.Promise(function(e){var n=0,r={},i=function(i){v(t[i],i).done(function(){r[i]=a[t[i]],--n||e(r)})};for(var o in t)t.hasOwnProperty(o)&&(n+=1,i(o))})};this.callCompileEvents=d,this.registerCompileEvent=function(t,e){u[t]=e},this.unregisterCompileEvent=function(t){delete u[t]},this.registerComponent=function(t,e){c[t]=e},this.loadComponent=function(t){var n=this;return new e.Promise(void 0===f[t]?function(e){n.load(c[t].template).then(function(n){delete c[t].template,f[t]=n.extend(c[t]),e(f[t])})}:function(e){e(f[t])})},this.load=function(t,e){var n;return n="string"==typeof t?g(t):m(t),"undefined"==typeof e?n:void n.then(e)},this.compile=function(t,e){this.load(t.template).then(function(n){delete t.template;var r=new n(t);"function"==typeof e&&e(r)})},this.registerPartial=function(n){t.get(h(n),function(t){e.partials[n]=t})},this.registerHelper=function(t,n){e.defaults.data[t]=n},this.getTemplatePath=function(){return n},this.setTemplatePath=function(t){n=t},this.getTemplateFormat=function(){return r},this.setTemplateFormat=function(t){r=t},this.getPartialsPath=function(){return i},this.setPartialsPath=function(t){i=t},this.getPartialsFormat=function(){return o},this.setPartialsFormat=function(t){o=t},this.getMainElement=function(){return s},this.setMainElement=function(t){s=t}}},function(t){t.exports=function(){}}]);
//# sourceMappingURL=no-reload.min.js.map
